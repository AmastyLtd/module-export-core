@import 'module/_codemirror';

//
//  Export Core
//  ____________________________________________

@amexportcore-reset-icon__background: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMCAuNzc1TDkuMjI0IDAgNSA0LjIyNS43NzYgMCAwIC43NzUgNC4yMjUgNSAwIDkuMjI1Ljc3NiAxMCA1IDUuNzc1IDkuMjI0IDEwIDEwIDkuMjI1IDUuNzc1IDUgMTAgLjc3NXoiIGZpbGw9IiNCODM4NTEiLz48L3N2Zz4=');
@amexportcore-delete-icon__background: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03LjE0OCAyMmg5LjczMmwxLjIyMy0xMS45NDRINS45OEw3LjE1IDIyem03LjU4NS0xNy4wM1YyLjY4M2MwLS4zNzctLjI5Mi0uNjgyLS42NTItLjY4Mkg5Ljk0OGMtLjM2IDAtLjY1MS4zMDYtLjY1MS42ODJ2Mi4yNTFBMTguMjU3IDE4LjI1NyAwIDAwNSA1Ljk2MXYyLjEwMmgxNFY1LjkwNXMtMS43MDktLjYxNi00LjI2OC0uOTM0aC4wMDF6bS0xLjI5OS0uMTI1YTIyLjQ4IDIyLjQ4IDAgMDAtMi45MDctLjAyVjMuNjJjMC0uMTg4LjE0My0uMzQuMzI0LS4zNGgyLjI1NmMuMTgyIDAgLjMyNy4xNTIuMzI3LjM0djEuMjI2eiIgZmlsbD0iIzVBNTU1MiIvPjwvc3ZnPg==');
@amexportcore-dnd-icon__background: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04IDE5LjMzM2gzLjA0OVYyMkg4di0yLjY2N3pNMTIuOTUzIDJIMTZ2Mi42NjdoLTMuMDQ3VjJ6bTAgNC4zMzNIMTZWOWgtMy4wNDdWNi4zMzN6bTAgNC4zMzRIMTZ2Mi42NjZoLTMuMDQ3di0yLjY2NnptMCA0LjMzM0gxNnYyLjY2N2gtMy4wNDdWMTV6bTAgNC4zMzNIMTZWMjJoLTMuMDQ3di0yLjY2N3pNOCAyaDMuMDQ5djIuNjY3SDhWMnptMCA0LjMzM2gzLjA0OVY5SDhWNi4zMzN6bTAgNC4zMzRoMy4wNDl2Mi42NjZIOHYtMi42NjZ6TTggMTVoMy4wNDl2Mi42NjdIOFYxNXoiIGZpbGw9IiM1QTU1NTIiLz48L3N2Zz4=');
@amexportcore-border__color: #adadad;
@amexportcore-th-no-header-color: #444;
@amexportcore-gray-light: #f1f1f1;
@amexportcore-td-color: #403630;
@amexportcore-button-hover: #7b776b;
@amexportcore-button-brown: #605d56;
@amexportcore-button-background-hover: #dbdbdb;

//
//  Common
//  ----------------------------------------------

& when (@media-common = true) {
    .amexportcore-dynamic-rows {
        //  Override magento styles start
        & {
            margin-top: 0 !important;
        }

        & > .admin__field-label {
            font-size: 20px !important;
            margin-bottom: 20px !important;
        }

        .amexportcore-remove .action-delete:before {
            background: @amexportcore-delete-icon__background no-repeat center;
            content: '';
            height: 20px;
            position: absolute;
            right: 30px;
            top: 18px;
            width: 15px;
        }

        .label._with-tooltip {
            align-items: flex-end;
            display: flex;
        }

        .admin__field-tooltip.tooltip {
            margin-left: 10px;
            width: auto;
        }

        th._no-header {
            border-bottom: 5px solid @color-white;
            color: @amexportcore-th-no-header-color;
            font-weight: 600;
            padding: 13px 1rem;
        }

        td.-amwidth30 {
            width: 30%;
        }

        td.amexportcore-filter {
            border-bottom: 5px solid @color-white;
            padding: 13px 1rem;
        }

        td.amwidth40px {
            border-bottom: 5px solid @color-white;
            width: 40px;
        }

        td.-amwidth30 .admin__control-select,
        td.-amwidth30 .admin__control-multiselect {
            width: 100%;
        }

        .admin__control-table-wrapper {
            overflow: visible;
        }

        .admin__control-table-wrapper .admin__action-multiselect-wrap .action-menu {
            z-index: 10;
        }

        //  Override magento styles end
        .amexportcore-remove {
            position: relative;
            text-align: right;
        }

        .amexportcore-remove > .action-delete {
            margin-left: 10px;
            min-width: 40px;
        }
    }

    .amexportcore-fields-table {
        & {
            width: 100%;
        }

        .amexportcore-row {
            border-bottom: 5px solid @color-white;
            padding: 3px 10px;
        }

        .amexportcore-td {
            background: @amexportcore-gray-light;
            color: @amexportcore-td-color;
            font-size: 16px;
            font-weight: 600;
            padding: 7px 10px;
        }

        .amexportcore-td.-checkbox {
            width: 35px;
        }

        .amexportcore-td.-button {
            text-align: right;
        }

        .amexportcore-td.-button .amexportcore-td {
            padding-left: 15px;
        }

        .amexportcore-td.-button .amexportcore-button {
            padding: 5px 31px;
        }

        .amexportcore-td.-fields {
            display: flex;
        }

        .amexportcore-td.-fields .amexportcore-field + .amexportcore-field {
            margin-left: 15px;
        }

        .amexportcore-delete {
            background: @amexportcore-delete-icon__background no-repeat center;
            cursor: pointer;
            height: 30px;
            margin-right: 30px;
            padding: 10px;
            width: 6px;
        }
    }

    .amexportcore-fields-table .amexportcore-thead.-search {
        .amexportcore-row {
            background: @color-gray89;
        }

        .amexportcore-th {
            padding: 6px 10px;
            text-align: left;
        }

        .amexportcore-th.-button {
            max-width: 120px;
            text-align: right;
            width: 120px;
        }

        .amexportcore-th.-button .action-primary {
            font-size: 16px;
            padding: 5px 19px;
        }
    }

    .amexportcore-fields-table.-selected {
        & {
            background: @color-white;
        }

        &.-static {
            margin: 0;
        }

        .amexportcore-thead .amexportcore-row {
            text-align: left;
        }

        .amexportcore-thead .amexportcore-row,
        .amexportcore-row.-dnd {
            border-bottom: 1px solid @color-white;
        }

        .amexportcore-row {
            border-bottom: none;
        }

        .amexportcore-thead {
            background-color: @color-black;
            display: table;
            table-layout: fixed;
            width: 100%;
        }

        .amexportcore-th {
            color: @color-white;
            font-weight: 600;
            padding: 15px 0 15px 15px;
        }

        .amexportcore-td.-dnd {
            padding-left: 30px;
        }

        .amexportcore-td {
            background: transparent;
            padding: 20px 0 20px 15px;
        }

        .amexportcore-td.-modifier .amexportcore-button {
            padding: 6px 5px;
            width: 134px;
        }

        .amexportcore-td.-button,
        .amexportcore-th.-button {
            width: 65px;
        }

        .amexportcore-th.-button {
            position: relative;
        }

        .amexportcore-th .amexportcore-label {
            position: absolute;
            right: 20px;
            top: ~'calc(50% - 10px)';
        }

        .amexportcore-td.-dnd,
        .amexportcore-th.-dnd {
            width: 55px;
        }

        .amexportcore-td.-modifier,
        .amexportcore-th.-modifier {
            width: 149px;
        }

        .amexportcore-td.-name,
        .amexportcore-th.-name {
            width: 40%;
        }

        .amexportcore-field {
            border: 1px solid @amexportcore-border__color;
            border-radius: 1px;
            font-size: 14px;
            font-weight: 400;
            padding: 5px 8px;
            width: 100%;
        }

        .amexportcore-field::placeholder {
            color: @color-gray80;
        }

        .amexportcore-field.-disabled {
            background: @color-white;
            box-sizing: border-box;
            color: @amexportcore-border__color;
        }

        .amexportcore-dnd {
            background: @amexportcore-dnd-icon__background;
            display: block;
            height: 24px;
            width: 24px;
        }

        ._odd-row {
            background-color: @color-white-smoke;
        }
    }

    .amexportcore-fields-table.-static,
    .amexportcore-fields-table.-merged {
        & {
            background: @color-white;
        }

        .amexportcore-fields-table.-selected + & {
            margin-top: 0;
        }

        .amexportcore-thead .amexportcore-row {
            border: none;
        }

        .amexportcore-th {
            padding: 30px;
            text-align: left;
            width: 50%;
        }

        .amexportcore-td {
            background: @color-white;
            padding: 0 0 30px 30px;
        }

        .amexportcore-row {
            border: none;
        }

        .amexportcore-field {
            border: 1px solid @amexportcore-border__color;
            border-radius: 1px;
            font-size: 14px;
            padding: 5px 8px;
            width: 100%;
        }

        & + .amexportcore-button-container {
            border: none;
        }
    }

    .amexportcore-fields-container {
        background: @amexportcore-gray-light;
        margin-top: 30px;
    }

    .amexportcore-fields-container {
        .amexportcore-header {
            background: @amexportcore-gray-light;
            display: flex;
            margin-bottom: 5px;
        }

        .amexportcore-title {
            display: block;
            font-weight: 700;
            padding: 15px;
            width: 100%;
        }

        .amexportcore-title.-button {
            padding: 0 25px;
        }
    }

    .amexportcore-button-container {
        background: @color-white;
        margin-bottom: 30px;
        padding: 30px;
    }

    .amexportcore-button:active,
    .amexportcore-button {
        background: @color-gray89;
        border-color: @amexportcore-border__color;
        box-shadow: none;
        color: @color-brownie;
        text-shadow: none;
    }
    .amexportcore-button-margin {
        margin-bottom: 30px;
    }

    .amexportcore-button:hover {
        background-color: @amexportcore-button-background-hover;
        box-shadow: none;
        color: @color-brownie;
    }

    .amexportcore-flex-container {
        display: flex;
        justify-content: space-between;
        margin-bottom: 20px;
    }

    .amexportcore-search-container {
        .amexportcore-search {
            border: 1px solid @color-gray80;
            font-weight: 400;
            min-width: 250px;
            padding: 5px 25px 5px 10px;
            width: 100%;
        }

        .amexportcore-reset.-hidden {
            display: none;
        }

        .amexportcore-reset {
            background: @amexportcore-reset-icon__background no-repeat center;
            height: 32px;
            position: absolute;
            right: 5px;
            width: 20px;
        }
    }

    .amexportcore-search-input {
        position: relative;
    }

    .amexportcore-fieldset > .admin__fieldset-wrapper-content > .admin__fieldset {
        padding-top: 0;
    }

    .amexportcore-modal-fields {
        .modal-header .page-main-actions {
            background: @color-white;
            border: none;
        }

        .modal-title {
            font-size: 30px;
        }
    }

    .amexportpro-exportjob-edit,
    .amexport-export-index,
    .amorderexport-profile-edit,
    .amproductexport-profile-edit,
    .amcustomerexport-profile-edit {
        .amexportcore-button.-brown:hover {
            background-color: @amexportcore-button-hover;
        }

        .amexportcore-button.-brown {
            background-color: @amexportcore-button-brown;
            border-radius: 3px;
            color: @color-white;
            font-weight: 400;
            transition: background-color .3s ease-in;
        }

        .amexportcore-button.-light:hover {
            background-color: @amexportcore-button-background-hover;
        }

        .amexportcore-button.-light {
            background-color: @color-white;
            border-radius: 3px;
            box-sizing: border-box;
            transition: background-color .3s ease-in;
        }
    }

    .amorderexport-profile-edit,
    .amproductexport-profile-edit,
    .amcustomerexport-profile-edit {
        .amexportcore-field .admin__control-select,
        .amexportcore-fieldset .admin__control-select,
        .amexportcore-fieldset ul.ui-widget,
        .amexportcore-textarea .admin__control-textarea,
        .amcron-select .admin__control-select {
            width: ~'calc(100% - 45px - 4px)';
        }

        .amcron-schedule-container .admin__field-control .admin__control-text {
            width: 100%;
        }

        .admin__fieldset .amexportcore-button-margin:not(:first-of-type) {
            margin-left: 15px;
        }
    }

    .amexportpro-exportjob-edit,
    .amexport-export-index {
        .amexportcore-fields-table.-selected .amexportcore-td.-name,
        .amexportcore-fields-table.-selected .amexportcore-th.-name {
            width: 45%;
        }
    }

    .amexportpro-exportjob-edit {
        .amexportcore-fieldset .admin__control-select {
            width: 100%;
        }
    }

    .amexportcore-fieldset ul.ui-widget {
        & {
            border: 1px solid @amexportcore-border__color;
            margin-bottom: 0;
        }

        .tagit-new {
            margin: 0;
        }
    }

    .amexportcore-checkbox,
    .amexportcore-fieldset-container {
        .admin__field-tooltip .admin__field-tooltip-content {
            width: 45vw;
        }

        .fieldset-wrapper-title .title {
            font-size: 2rem;
            font-weight: 400;
        }
    }

    .amexportcore-template-type .admin__fieldset,
    .amexportcore-post-processing .admin__fieldset {
        padding-top: 0;
    }

    .amexportcore-tooltip .admin__field-tooltip-content {
        & {
            bottom: inherit;
            top: 40px;
            width: 45vw;
        }

        &:after,
        &:before {
            top: -32px;
            transform: rotate(180deg);
        }

        &:after {
            margin-top: 1px;
        }
    }

    .amexport-export-index .amexportcore-checkbox.-type .amexportcore-tooltip .admin__field-tooltip-content {
        & {
            left: -14px;
        }

        &:after,
        &:before {
            left: 10px;
        }
    }

    .admin__fieldset-wrapper-content .admin__field.amexportpro-notice-field {
        margin-top: ~'calc(-3rem + 15px)';
    }
}

//
//  Desktop +
//  --------------------------------------------

.media-width(@extremum, @break) when (@extremum = 'min') and (@break = @screen__xl) {
    //  Override magento styles start
    .amexportcore-modal-fields {
        left: 50%;
    }
    //  Override magento styles end

    .amexportcore-dynamic-rows {
        td.amexportcore-filter {
            width: 25%;
        }
    }
    .amexportcore-dynamic-rows {
        &._empty {
            margin-bottom: 0;
        }
    }
}
